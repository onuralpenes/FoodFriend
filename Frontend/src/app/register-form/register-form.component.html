<div class="container" novalidate>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="form">
    <p>
      <mat-form-field appearance="outline">
        <mat-label>{{'label.name' | translate}}</mat-label>
        <input matInput formControlName="firstName" [ngClass]="{ 'is-invalid': submitted && f.firstName.errors }">
          <mat-error *ngIf="f.firstName.errors?.required">{{'validator.nameNull' | translate}}</mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>{{'label.surname' | translate}}</mat-label>
        <input matInput formControlName="lastName" [ngClass]="{ 'is-invalid': submitted && f.lastName.errors }">
          <mat-error *ngIf="f.lastName.errors?.required">{{'validator.surnameNull' | translate}}</mat-error>

      </mat-form-field>
    </p>

    <p> 
      <mat-form-field appearance="outline">
        <mat-label>{{'label.email' | translate}}</mat-label>
        <input matInput formControlName="emailAddress" [ngClass]="{ 'is-invalid': submitted && f.emailAddress.errors }" />
          <mat-error *ngIf="f.emailAddress.errors?.required">{{'validator.emailNull' | translate}}</mat-error>
          <mat-error *ngIf="f.emailAddress.errors?.email">{{'validator.emailValid' | translate}}</mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>{{'label.phoneNumber' | translate}}</mat-label>
        <input type="tel" id="phone" name="phone" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" matInput
          placeholder="Format = 507-222-1133" formControlName="phoneNumber"
          [ngClass]="{ 'is-invalid': submitted && f.phoneNumber.errors }">
          <mat-error *ngIf="f.phoneNumber.errors?.required">{{'validator.phoneNull' | translate}}</mat-error>
          <mat-error *ngIf="f.phoneNumber.errors?.pattern">{{'validator.phoneValid' | translate}}</mat-error>
      </mat-form-field>
    </p>

    <p>
      <mat-form-field appearance="outline">
        <mat-label>{{'label.password' | translate}}</mat-label>
        <input matInput [type]="'password'" formControlName="password"
          [ngClass]="{ 'is-invalid': submitted && f.password.errors }" />
          <mat-error *ngIf="f.password.errors?.required">{{'validator.psdNull' | translate}}</mat-error>
          <mat-error *ngIf="f.password.errors?.minlength">{{'validator.psdMin' | translate}}</mat-error>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>{{'label.confirmPassword' | translate}}</mat-label>
        <input matInput [type]="'password'" formControlName="passwordConf"
          [ngClass]="{ 'is-invalid': submitted && f.passwordConf.errors }" />
          <mat-error *ngIf="f.passwordConf.errors?.required">{{'validator.confNull' | translate}}</mat-error>
          <mat-error *ngIf="f.passwordConf.errors?.match">{{'validator.confMatch' | translate}}</mat-error>
      </mat-form-field>
    </p>

    <p>
      <mat-form-field appearance="outline">
        <mat-label>{{'label.birthdate' | translate}}</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="birthDate"
          [ngClass]="{ 'is-invalid': submitted && f.birthDate.errors }" />
          <mat-error *ngIf="f.birthDate.errors?.required">{{'validator.bdayNull' | translate}}</mat-error>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </p>

    <p class="cb">
      <mat-checkbox class="" [color]="color" formControlName="tos">
        <label class="invalid" *ngIf="submitted && f.tos.errors "> {{'label.tos' | translate}}</label>
        <label *ngIf="!submitted || !f.tos.errors"> {{'label.tos' | translate}}</label>
      </mat-checkbox>
    </p>

    <p class="cb">
      <mat-checkbox class="" [color]="color" formControlName="priv">
        <label class="invalid" *ngIf="submitted && f.priv.errors "> {{'label.pp' | translate}}</label>
        <label *ngIf="!submitted || !f.priv.errors"> {{'label.pp' | translate}}</label>
      </mat-checkbox>
    </p>

    <button class="signUpButton" type="submit">{{'account.signUp' | translate}}</button>
  </form>
</div>