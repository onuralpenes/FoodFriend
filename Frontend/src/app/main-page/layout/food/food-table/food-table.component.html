<div class="row">
  <div class="col-md-1"></div>
  <div class="col-md-1">
    <mat-form-field class="searching-filter" appearance="standard">
      <mat-label class="search">{{'table.search' | translate}}</mat-label>
      <input matInput (keyup)="applyFilter($event)" #input />
      <mat-icon matSuffix><i class="fa fa-search fa-lg" aria-hidden="true"></i></mat-icon>
    </mat-form-field>
  </div>

  <div class="col-md-8"></div>

  <div class="col-md-1">
    <button class="add-button" (click)="showBasicDialog()" type="button">Add</button>
  </div>
</div>

<div class="row tab">
  <table mat-table [dataSource]="dataSource" matSort class="my-table" *ngIf="isNull">
    <ng-container matColumnDef="foodName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="lHead">{{'table.name' | translate}}</th>
      <td mat-cell *matCellDef="let eatTable" data-label="Name: " class="lCol">{{ eatTable.foodName }}</td>
    </ng-container>

    <ng-container matColumnDef="quantity">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'table.quantity' | translate}}</th>
      <td mat-cell *matCellDef="let eatTable" data-label="Quantity: ">{{ eatTable.quantity}}</td>
    </ng-container>

    <ng-container matColumnDef="startDate">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'table.start' | translate}}</th>
      <td mat-cell *matCellDef="let eatTable" data-label="Start Date: ">{{ eatTable.startDate | date: 'HH:mm'}}</td>
    </ng-container>

    <ng-container matColumnDef="endDate">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>{{'table.end' | translate}}</th>
      <td mat-cell *matCellDef="let eatTable" data-label="End Date: ">{{ eatTable.endDate | date: 'HH:mm'}}</td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef class="rHead"></th>
      <td mat-cell *matCellDef="let eatTable" class="rCol">
        <button class="tab-button" mat-icon-button (click)="openEdit(eatTable.nutId)">
          <i class="fa fa-pencil fa-lg" aria-hidden="true"></i>
        </button>
        <button class="tab-button" mat-icon-button (click)="delete(eatTable.nutId, eatTable.foodName)">
          <i class="fa fa-trash fa-lg" aria-hidden="true"></i>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

    <ng-container matColumnDef="groupHeader">
      <td colspan="999" mat-cell *matCellDef="let group; let i = index" class="group" [class.lastRow] = "i+1 === eatTable.length"><strong *ngIf ="group.title != 'x'">{{group.title}}</strong></td>
    </ng-container>
      <!--class="lastRow"-->
    <tr mat-row *matRowDef="let row; columns: ['groupHeader']; when: isGroup"> </tr>
  </table>
  <div *ngIf="!isNull">{{'table.null' | translate}}</div>
</div>


<p-dialog header="Header" [(visible)]="displayBasic" [maximizable]="true" [appendTo]="'body'" [style]="{width: '50vw'}">
  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
      Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
      Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat
      cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
  <ng-template pTemplate="footer">
      <p-button icon="pi pi-check" (click)="displayBasic=false" label="Ok" styleClass="p-button-text"></p-button>
  </ng-template>
</p-dialog>